THEMES = {
    "oldschool": {
        "light": {
            "background": "#ffffff",
            "foreground": "#222326",
            "border": "#cfcfcf",
            "highlight": "#0078d7",
            "error": "#e81123",
            "font_size": 14,
            "font_family": "Segoe UI, Arial, sans-serif",
            "border_radius": 8,
            "input_width": 400,
            "button": {
                "background": "#f3f3f3",
                "foreground": "#222326",
                "hover": "#e5e5e5",
                "active": "#d0d0d0"
            },
            "input": {
                "background": "#f9f9f9",
                "foreground": "#222326"
            }
        },
        "middle": {
            "background": "#b0b0b0",
            "foreground": "#222326",
            "border": "#888888",
            "highlight": "#0078d7",
            "error": "#e81123",
            "font_size": 14,
            "font_family": "Segoe UI, Arial, sans-serif",
            "border_radius": 8,
            "input_width": 400,
            "button": {
                "background": "#a0a0a0",
                "foreground": "#222326",
                "hover": "#888888",
                "active": "#707070"
            },
            "input": {
                "background": "#bcbcbc",
                "foreground": "#222326"
            }
        },
        "dark": {
            "background": "#1e1e1e",
            "foreground": "#f3f3f3",
            "border": "#3c3c3c",
            "highlight": "#0078d7",
            "error": "#e81123",
            "font_size": 14,
            "font_family": "Segoe UI, Arial, sans-serif",
            "border_radius": 8,
            "input_width": 400,
            "button": {
                "background": "#2d2d2d",
                "foreground": "#f3f3f3",
                "hover": "#3c3c3c",
                "active": "#0078d7"
            },
            "input": {
                "background": "#252526",
                "foreground": "#f3f3f3"
            }
        }
    },
    "vintage": {
        "light": {
            "background": "#f5eee6",
            "foreground": "#5a4632",
            "border": "#cbb393",
            "highlight": "#b48a78",
            "error": "#a94442",
            "font_size": 15,
            "font_family": "Georgia, serif",
            "border_radius": 10,
            "input_width": 420,
            "button": {
                "background": "#e2d3c3",
                "foreground": "#5a4632",
                "hover": "#d6c3a3",
                "active": "#cbb393"
            },
            "input": {
                "background": "#f8f3ed",
                "foreground": "#5a4632"
            }
        },
        "middle": {
            "background": "#b8ae9c",
            "foreground": "#5a4632",
            "border": "#8c7c5a",
            "highlight": "#a67c52",
            "error": "#a94442",
            "font_size": 15,
            "font_family": "Georgia, serif",
            "border_radius": 10,
            "input_width": 420,
            "button": {
                "background": "#a89c7c",
                "foreground": "#5a4632",
                "hover": "#8c7c5a",
                "active": "#6c5a32"
            },
            "input": {
                "background": "#cfc6b3",
                "foreground": "#5a4632"
            }
        },
        "dark": {
            "background": "#3b2c23",
            "foreground": "#e2d3c3",
            "border": "#7c624a",
            "highlight": "#b48a78",
            "error": "#a94442",
            "font_size": 15,
            "font_family": "Georgia, serif",
            "border_radius": 10,
            "input_width": 420,
            "button": {
                "background": "#5a4632",
                "foreground": "#e2d3c3",
                "hover": "#7c624a",
                "active": "#a67c52"
            },
            "input": {
                "background": "#4e3b2a",
                "foreground": "#e2d3c3"
            }
        }
    },
    "modern": {
        "light": {
            "background": "#f3f6fd",
            "foreground": "#1a1a1a",
            "border": "#cfd8dc",
            "highlight": "#2563eb",
            "error": "#ef4444",
            "font_size": 14,
            "font_family": "Segoe UI, Arial, sans-serif",
            "border_radius": 8,
            "input_width": 400,
            "button": {
                "background": "#e7eaf3",
                "foreground": "#1a1a1a",
                "hover": "#d0d6e6",
                "active": "#b6c2e1"
            },
            "input": {
                "background": "#ffffff",
                "foreground": "#1a1a1a"
            }
        },
        "middle": {
            "background": "#b0b5bb",
            "foreground": "#23272f",
            "border": "#888d92",
            "highlight": "#2563eb",
            "error": "#ef4444",
            "font_size": 14,
            "font_family": "Segoe UI, Arial, sans-serif",
            "border_radius": 8,
            "input_width": 400,
            "button": {
                "background": "#a0a5ab",
                "foreground": "#23272f",
                "hover": "#888d92",
                "active": "#70757a"
            },
            "input": {
                "background": "#bfc4ca",
                "foreground": "#23272f"
            }
        },
        "dark": {
            "background": "#181a20",
            "foreground": "#e7eaf3",
            "border": "#2563eb",
            "highlight": "#60a5fa",
            "error": "#ef4444",
            "font_size": 14,
            "font_family": "Segoe UI, Arial, sans-serif",
            "border_radius": 8,
            "input_width": 400,
            "button": {
                "background": "#23272f",
                "foreground": "#e7eaf3",
                "hover": "#2563eb",
                "active": "#1e293b"
            },
            "input": {
                "background": "#23272f",
                "foreground": "#e7eaf3"
            }
        }
    },
    "future": {
        "light": {
            "background": "rgba(245, 250, 255, 0.85)",
            "foreground": "#22223b",
            "border": "#a3bffa",
            "highlight": "#7f9acb",
            "error": "#ff6b6b",
            "font_size": 15,
            "font_family": "Montserrat, Arial, sans-serif",
            "border_radius": 12,
            "input_width": 420,
            "button": {
                "background": "rgba(230, 240, 255, 0.95)",
                "foreground": "#22223b",
                "hover": "#b8c6db",
                "active": "#7f9acb"
            },
            "input": {
                "background": "rgba(255,255,255,0.95)",
                "foreground": "#22223b"
            }
        },
        "middle": {
            "background": "rgba(160, 170, 190, 0.90)",
            "foreground": "#22223b",
            "border": "#5a6a8b",
            "highlight": "#a3bffa",
            "error": "#ff6b6b",
            "font_size": 15,
            "font_family": "Montserrat, Arial, sans-serif",
            "border_radius": 12,
            "input_width": 420,
            "button": {
                "background": "#a3bffa",
                "foreground": "#22223b",
                "hover": "#7f9acb",
                "active": "#5a6a8b"
            },
            "input": {
                "background": "rgba(180,190,210,0.95)",
                "foreground": "#22223b"
            }
        },
        "dark": {
            "background": "rgba(30, 34, 45, 0.92)",
            "foreground": "#e0eaff",
            "border": "#7f9acb",
            "highlight": "#a3bffa",
            "error": "#ff6b6b",
            "font_size": 15,
            "font_family": "Montserrat, Arial, sans-serif",
            "border_radius": 12,
            "input_width": 420,
            "button": {
                "background": "#22223b",
                "foreground": "#e0eaff",
                "hover": "#7f9acb",
                "active": "#a3bffa"
            },
            "input": {
                "background": "rgba(40,44,54,0.95)",
                "foreground": "#e0eaff"
            }
        }
    },
    "minimal": {
        "light": {
            "background": "#ffffff",
            "foreground": "#222222",
            "border": "#cccccc",
            "highlight": "#1976d2",
            "error": "#d32f2f",
            "font_size": 13,
            "font_family": "Arial, sans-serif",
            "border_radius": 4,
            "input_width": 380,
            "button": {
                "background": "#f7f7f7",
                "foreground": "#222222",
                "hover": "#e0e0e0",
                "active": "#bdbdbd"
            },
            "input": {
                "background": "#fafafa",
                "foreground": "#222222"
            }
        },
        "middle": {
            "background": "#bdbdbd",
            "foreground": "#222222",
            "border": "#888888",
            "highlight": "#1976d2",
            "error": "#d32f2f",
            "font_size": 13,
            "font_family": "Arial, sans-serif",
            "border_radius": 4,
            "input_width": 380,
            "button": {
                "background": "#b0b0b0",
                "foreground": "#222222",
                "hover": "#888888",
                "active": "#1976d2"
            },
            "input": {
                "background": "#cfcfcf",
                "foreground": "#222222"
            }
        },
        "dark": {
            "background": "#222222",
            "foreground": "#f7f7f7",
            "border": "#424242",
            "highlight": "#1976d2",
            "error": "#d32f2f",
            "font_size": 13,
            "font_family": "Arial, sans-serif",
            "border_radius": 4,
            "input_width": 380,
            "button": {
                "background": "#333333",
                "foreground": "#f7f7f7",
                "hover": "#1976d2",
                "active": "#424242"
            },
            "input": {
                "background": "#2c2c2c",
                "foreground": "#f7f7f7"
            }
        }
    }
}

def get_theme(style, mode):
    """
    Returns the theme dictionary for the given style and mode.
    Falls back to 'modern' and 'light' if not found.
    """
    style_dict = THEMES.get(style, THEMES["modern"])
    return style_dict.get(mode, style_dict.get("light"))